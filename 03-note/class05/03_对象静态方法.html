<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>New Html</title>
</head>

<body>
    <script>
        /*
            Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象分配到目标对象。它将返回目标对象。
            Object.create()方法创建一个新对象，使用现有的对象来提供新创建的对象的__proto__。 （请打开浏览器控制台以查看运行结果。）
        
            浅拷贝：只是拷贝一层，更深层次对象级别的只拷贝了地址
            深拷贝：层层拷贝，每一级别的数据都会拷贝
        */

        ; (function () {
            var obj1 = { a: 1 };
            var obj2 = { a: 2, b: 2 };
            var obj3 = Object.assign({}, obj1, obj2);
            // console.log(obj1);
            // console.log(obj3);
        }());

        ; (function () {
            var obj = {
                title: "obj标题",
                username: "ken",
                say: function () {
                    console.log(this.title, this.username);
                }
            };
            var newObj = Object.create(obj);   // newObj => {}
            newObj.title = "newObj标题";
            // console.log(newObj);
            // newObj.say();
        }());

        ; (function () {
            var foo = "foo";
            var arr = Object.entries(foo);
            // console.log(arr);
        })();

        ; (function () {
            var obj1 = {};
            var obj2 = obj1;
            var obj3 = {};
            var f = Object.is(obj1, obj2);
            // console.log({ f });

        }());

        ; (function () {
            var obj1 = { a: 1 };
            var obj2 = obj1;
            obj2.b = 2;
            // console.log(obj1);
        }());
        ; (function () {
            // 浅拷贝
            var obj1 = {
                a: 1,
                child: { c: 3 }
            };
            var obj2 = Object.assign({}, obj1);
            obj2.b = 2;
            obj2.child.c = 4;
            // console.log(obj1)
            // console.log(obj2)
        }());

        ; (function () {
            // 深拷贝1    JSON.parse(JSON.stringify(obj1));
            var obj1 = {
                a: 1,
                child: { c: 3 }
            };
            var obj2 = JSON.parse(JSON.stringify(obj1));
            obj2.child.c = 5;
            // console.log(obj1)
            // console.log(obj2)
            /* 
                原对象有函数，是不能被序列化的

                原对象有 value 是 undefined 的，也是不能被序列化的

                原对象有正则的，不能被序列化
            */
        }());

        ; (function () {
            // 深拷贝2
            var obj = {
                a: 1,
                b: {
                    c: 2
                },
                d: "0"
            }

            function clone (obj) {
                var newObj = {};
                /* 
                    newObj = {
                        a:1
                    }
                */
                for (var key in obj) {
                    if (typeof obj[key] === "object") {
                        // debugger; // 调试
                        newObj[key] = clone(obj[key]);
                    } else {
                        newObj[key] = obj[key];
                    }
                }
                return newObj;
            }

            var obj1 = clone(obj);
            // 改变obj1
            obj1.b.c = 3;
            console.log(obj);
            console.log(obj1);

        }());






    </script>
</body>

</html>